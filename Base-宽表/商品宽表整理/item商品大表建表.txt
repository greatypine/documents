create table `b_item_pro_total` (

`id` char(32) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'order_item_id主键',
`order_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '订单ID',
`product_type` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT 'normal',
`eshop_pro_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'E店商品ID',
`eshop_pro_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'E店商品名称',
`unit_price` decimal(20,2)  COMMENT '单价',
`unit_score` int(11) DEFAULT NULL COMMENT '积分',
`quantity` int(11) DEFAULT NULL COMMENT '交易数量',
`unit` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '单位',
`weight` double(11,2) DEFAULT NULL COMMENT '重量',
`business_no` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '业务单号',
`cost_price` decimal(20,2) DEFAULT NULL COMMENT '成本价',
`original_price` decimal(20,2) DEFAULT NULL COMMENT '原价',
`provider_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '供应商ID',
`output_tax_rate` float(3,2) DEFAULT NULL COMMENT '销项税率',

`order_sn` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '订单编号',
`order_status` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL  COMMENT '',
`create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '订单创建时间',
`success_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '订单成功时间',
`sign_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '订单签收时间',
`cancel_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '订单取消时间',
`commented_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '订单评论时间',
`is_split` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT 'no',
`order_type` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
`order_source` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
`normal_store_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '配送门店ID',
`info_village_code` varchar(22) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '小区',
`area_code` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '片区Code',
`info_employee_a_no` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'A侠No，对应Mongo中tiny_dispatch的employee_a_no',
`appointment_start_time` datetime DEFAULT NULL COMMENT '预约开始时间',
`appointment_end_time` datetime DEFAULT NULL COMMENT '预约结束时间',
`real_store_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '真实门店ID',
`employee_no` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '派送国安侠编号', 
`order_tag3` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '1精确收入,0非精确收入,2过账支付',
  
`customer_name` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '姓名',
`customer_mobile_phone` varchar(15) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '移动电话',
`order_address_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '订单收货地址ID',
`addr_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '收货人名称',
`addr_mobilephone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '收货人电话',
`addr_address` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '收货人完整地址',
`employee_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工ID',
`employee_phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工电话',
`employee_name` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '员工姓名',
`store_code` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '门店编码，对应t_store表中的code',
`store_city_name` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '门店所属城市，对应t_store表中的city_name',
`tiny_village_id` bigint(20) DEFAULT NULL,
`tiny_village_name` varchar(255) DEFAULT NULL,
`area_name` varchar(50) DEFAULT NULL,

`channel_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '频道id',
`channel_name` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL  COMMENT '频道名',
`department_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '事业群id',
`department_name` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL  COMMENT '事业群名称',
`business_model_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 't_business_model 业务模式',
`business_model_name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 't_business_model 业务模式名称',
`business_code` enum('clean','express','shopping','maintain','wash','massage','manicure','house_moving','flowers','car_wash','selfsell','babysiter','maintain_card','common','book') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 't_business_model 业务模式code',

`eshop_id` char(32) COLLATE utf8mb4_unicode_ci  DEFAULT '' COMMENT 'E店ID',
`eshop_name` varchar(20) COLLATE utf8mb4_unicode_ci  COMMENT 'E店名',
`eshop_self` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT 'yes',
`eshop_white` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT 'normal',
`eshop_create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
`self_inventory` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT 'no',
`send_type` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT '',
`eshop_code` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '编号',
`eshop_kind` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT 'normal',
`company_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '公司ID',
`super_member` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '是否超级会员店铺',
`joint_ims` enum('no','yes') COLLATE utf8mb4_unicode_ci  DEFAULT 'no' COMMENT '是否对接进销存管理系统',
`business_type` enum('pool','self') COLLATE utf8mb4_unicode_ci  DEFAULT 'pool' COMMENT 'self 自营 pool 联营',
`teptag1` int(10) unsigned DEFAULT 0  COMMENT '是否豁免E店 0 : 不豁免  1 : 豁免',
 
`store_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '门店ID',
`store_name` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '门店名称',
`store_province_code` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '省编码',
`store_city_code` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '市编码',
`store_ad_code` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '区编码',
`store_white` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT 'normal',
`store_create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
`store_number` int(10) unsigned   COMMENT '门店编号',

`sku_rule_name` varchar(45) COLLATE utf8mb4_unicode_ci  COMMENT '规则名字，如五一降价\n',
`start_time` datetime  COMMENT '开始日期 ',
`end_time` datetime  COMMENT '结束日期 ',
`sku_rule_price` decimal(20,2) DEFAULT NULL COMMENT 't_sku_rule_product_ref 计算后的价格',

`rate` enum('good','normal','bad') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '评价,good:好，normal:普通，bad:差',
`star_level` int(5) DEFAULT NULL COMMENT '星级',
`contents` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '评论内容',
`next_days` int(5) DEFAULT NULL COMMENT '评价和追评的间隔天数',
`next_contents` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '评论内容',
`star_level_1` int(5) DEFAULT NULL COMMENT '星级1',
`star_level_2` int(5) DEFAULT NULL COMMENT '星级2',

`customer_type` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT 'registed',
`customer_source` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
`customer_create_time` datetime DEFAULT NULL COMMENT '用户注册时间',
`customer_id` char(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '用户ID',
`plus_flag` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT 'no' COMMENT '会员plus标记位',
`plus_expiry_date` datetime DEFAULT NULL COMMENT '会员plus截止日期',
`member_flag` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT 'no' COMMENT '预置VIP标记位',
`member_expiry_date` datetime DEFAULT NULL COMMENT '会员结束日期',
`member_type` varchar(30) DEFAULT NULL COMMENT '社员类型',
`member_start_date` datetime DEFAULT NULL COMMENT '会员开始日期',
`associator_expiry_date` datetime DEFAULT NULL COMMENT '社员等级过期时间',
`usertag1` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '新老用户  yes:新用户  no:老用户',

`sum_trading_price` decimal(20,2) DEFAULT NULL COMMENT '交易价',
`apportion_rebate` decimal(20,2) DEFAULT NULL COMMENT '分摊的返利',
`apportion_coupon` decimal(20,2) DEFAULT NULL COMMENT '分摊的优惠卷金额',
`apportion_score` decimal(20,2) DEFAULT NULL COMMENT '分摊的积分',
`apportion_other` decimal(20,2) DEFAULT NULL COMMENT '分摊的其他金额',
`receive_rebate` decimal(12,2) DEFAULT NULL COMMENT '获得的返利',

`proration_platform_price` decimal(20,2) DEFAULT NULL COMMENT '平台分摊的金额',
`proration_seller_price` decimal(20,2) DEFAULT NULL COMMENT '商家分摊的金额',
`proration_platform` decimal(20,2) DEFAULT NULL COMMENT '平台分摊的比例',
`proration_seller` decimal(20,2) DEFAULT NULL COMMENT '商家分摊的比例',
`member_price` decimal(20,2) DEFAULT NULL COMMENT '商品会员价',
`is_combo` enum('yes','no')  DEFAULT 'no' COMMENT '是否组合商品\n yes组合商品   no单一商品',
`is_combo_split` enum('yes','no') DEFAULT 'no' COMMENT '是否拆分 yes 是 no 否',
`level1_name` varchar(30) DEFAULT NULL COMMENT '商品1级分类名称',
`level2_name` varchar(30) DEFAULT NULL COMMENT '商品2级分类名称',
`level3_name` varchar(30) DEFAULT NULL COMMENT '商品3级分类名称',
`content_bar` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '条形码',
`manager_category_ids` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '商品类目id串 id1,id2,id3,id4',
`manager_category_names` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '商品类目名称串 家用电器,小型家电,厨房电器,豆浆机(所有类目拼接字符串)',
`ims_master_id` char(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci  DEFAULT '' COMMENT '进销存商品主档信息ID对应表 t_ims_product表 id',
`ims_level_1` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ims商品分类 1 类',
`ims_level_2` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ims商品分类 2 类',
`ims_level_3` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ims商品分类 3 类',
`ims_level_4` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ims商品分类 4 类',
`ims_level_5` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ims商品分类 5 类',
`ims_level_6` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ims商品分类 6 类',
`ims_level_7` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ims商品分类 7 类',

`returned_quantity`  int(11) DEFAULT NULL COMMENT '退款数量',
`returned_unit_price`  decimal(20,2) DEFAULT NULL COMMENT '退款单价',
`returned_price`  decimal(20,2) DEFAULT NULL COMMENT '退款总金额',
`return_label` int(5) DEFAULT 0 COMMENT '退货标签  1:退货   0:没退货',
`content_type` enum('eshop','store','platform','emall','product') COLLATE utf8mb4_unicode_ci  DEFAULT 'platform' COMMENT '代金券属性,platform平台 store门店 eshopE店 product商品',
`content_no` char(20) CHARACTER SET utf8mb4  COMMENT '代金券码',
`content_name` varchar(30) COLLATE utf8mb4_unicode_ci  COMMENT '类型名称',
`content_batch` char(8) COLLATE utf8mb4_unicode_ci  COMMENT '批次',

`contract_end_date` date DEFAULT NULL COMMENT '结束日期',
`contract_id` char(32) COLLATE utf8mb4_unicode_ci  DEFAULT '' COMMENT '合同主键',
`contract_method` enum('price','volume','percent') COLLATE utf8mb4_unicode_ci DEFAULT 'price' COMMENT '结算方式（下拉选择（从价 从量 从率）',
`contract_percent` decimal(5,3) DEFAULT NULL COMMENT '费率',
`contract_price` decimal(20,2) DEFAULT NULL COMMENT '结算单价',
`trading_price` decimal(20,2) DEFAULT NULL COMMENT '实际支付金额',
`c_guid` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'guid',
`c_gcode` varchar(50) COLLATE utf8mb4_unicode_ci  COMMENT '商品编码',
`c_dt` datetime COMMENT '进销存时间',
`c_ccode` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '品类编码',
`c_type` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '商品类型：1、自营单品  2、自营类品  3、专柜单品 4、专柜类品 5、租赁单品 6、租赁类品  =》tb_syscfg[商品类型]',
`c_sale_status` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '销售状态：正常销售、暂停销售', 
`c_cost_price` decimal(20,4) DEFAULT NULL COMMENT '利润计算成本',
`c_map_store_id` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '进销存系统的门店表tb_store,此字段对应中台t_store表中number字段',
  
  
`rebuy_num`  int(11) DEFAULT NULL COMMENT '用户商品复购数',
`item_type`  varchar(10) DEFAULT NULL COMMENT '是否是家务事item  0 普通item  ; 1 家务事item',
`order_profit` decimal(20,2) DEFAULT NULL COMMENT '毛利',
`pro_number` int(11)  DEFAULT '999' COMMENT '库存数量',
`extra_filed1`   varchar(50) DEFAULT NULL ,
`extra_filed2`   varchar(50) DEFAULT NULL ,
`extra_filed3`   varchar(50) DEFAULT NULL ,
`extra_filed4`   varchar(50) DEFAULT NULL ,
`extra_filed5`   varchar(50) DEFAULT NULL ,
`extra_filed6`   varchar(50) DEFAULT NULL ,
`extra_filed7`   varchar(50) DEFAULT NULL ,
`extra_filed8`   varchar(50) DEFAULT NULL ,
`extra_filed9`   varchar(50) DEFAULT NULL ,
`extra_filed10`  varchar(50) DEFAULT NULL ,
`extra_filed11`  varchar(50) DEFAULT NULL ,
`extra_filed12`  varchar(50) DEFAULT NULL ,
`extra_filed13`  varchar(50) DEFAULT NULL ,
`extra_filed14`  varchar(50) DEFAULT NULL ,
`extra_filed15`  varchar(50) DEFAULT NULL,
PRIMARY KEY(`id`),
KEY `index2` (`eshop_id`),
KEY `index3` (`department_id`),
KEY `index4` (`create_time`),
KEY `index5` (`store_id`),
KEY `index7` (`order_id`),
KEY `index8` (`eshop_pro_id`)
 ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

